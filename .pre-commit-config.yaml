repos:
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v4.6.0
    hooks:
      - id: trailing-whitespace
      - id: end-of-file-fixer
      - id: check-yaml
      - id: check-added-large-files

  - repo: local
    hooks:
      # i18n ТОЛЬКО для шаблонов (как было — он уже у тебя зелёный)
      - id: i18n-templates-no-raw-cyrillic
        name: i18n (templates): forbid raw Cyrillic outside trans
        entry: python tools/check_i18n_templates.py
        language: system
        pass_filenames: true
        files: \.(html|htm)$

      # НОВЫЙ i18n для Python
      - id: i18n-python-no-raw-cyrillic
        name: i18n (python): forbid raw Cyrillic outside gettext
        entry: python tools/check_i18n_python.py
        language: system
        pass_filenames: true
        files: \.py$
        # Не проверяем тесты, служебные скрипты и миграции
        exclude: ^(tests/|.*/tests/|tools/|.*/migrations/)
